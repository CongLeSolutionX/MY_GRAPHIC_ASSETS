<!-- 
title: ci-cd-pipeline.svg
author: Cong Le
version: 1.0
license(s): MIT, CC BY-SA 4.0
copyright: Copyright Â© 2025 Cong Le. All Rights Reserved.
-->
<svg width="400" height="100" viewBox="0 0 400 100" xmlns="http://www.w3.org/2000/svg" font-family="Helvetica, Arial, sans-serif" font-size="14" font-weight="bold">
  <style>
    /* 1. Define the generic color change for circles (using 'fill') */
    @keyframes progress-color {
      /* Define the journey for a single element */
      0%, 15% { fill: #cccccc; }   /* Start and stay Idle */
      25%, 45% { fill: #f3d94f; }   /* Become Active */
      55%, 100% { fill: #28a745; }  /* Become Success and stay */
    }

    /* 2. Define the generic color change for arrows (using 'stroke') */
    @keyframes progress-stroke {
      0%, 15% { stroke: #cccccc; }
      25%, 45% { stroke: #f3d94f; }
      55%, 100% { stroke: #28a745; }
    }

    /* 3. Apply these animations to each element with a delay */
    /* Total animation cycle is 7.5s */
    #stage-build {
      animation: progress-color 7.5s infinite;
      animation-delay: 0s;
    }
    #arrow1 {
      animation: progress-stroke 7.5s infinite;
      animation-delay: 0s;
    }
    #stage-test {
      animation: progress-color 7.5s infinite;
      animation-delay: 2.5s; /* Start after the first stage is well underway */
    }
    #arrow2 {
      animation: progress-stroke 7.5s infinite;
      animation-delay: 2.5s;
    }
    #stage-deploy {
      animation: progress-color 7.5s infinite;
      animation-delay: 5s; /* Start after the second stage is well underway */
    }
    
    /* Default styling for text, ensuring it's always readable */
    text {
        fill: white;
    }
  </style>

  <g id="pipeline-diagram">
    <!-- Stage 1: Build -->
    <circle id="stage-build" cx="50" cy="50" r="25" />
    <text x="50" y="55" text-anchor="middle">Build</text>

    <!-- Arrow between Build and Test -->
    <path id="arrow1" d="M80 50 L145 50" stroke-width="4" stroke-linecap="round" fill="none"/>

    <!-- Stage 2: Test -->
    <circle id="stage-test" cx="200" cy="50" r="25" />
    <text x="200" y="55" text-anchor="middle">Test</text>

    <!-- Arrow between Test and Deploy -->
    <path id="arrow2" d="M230 50 L295 50" stroke-width="4" stroke-linecap="round" fill="none"/>

    <!-- Stage 3: Deploy -->
    <circle id="stage-deploy" cx="350" cy="50" r="25" />
    <text x="350" y="55" text-anchor="middle">Deploy</text>
  </g>
</svg>